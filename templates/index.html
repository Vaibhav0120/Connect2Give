{% extends "base.html" %}
{% load static %}
{% load portal_extras %}

{% block title %}Connect2Give - Turn Surplus into Support{% endblock %}

{% block head %}
    <style>
        /* Remove container padding to eliminate top/bottom gaps */
        .container {
            padding: 0 !important;
        }
        
        /* Reset container constraints for full-width sections */
        body {
            margin: 0;
            padding: 0;
        }
        
        /* Override base container to allow full-width sections */
        .full-width {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
        }

        .content-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Modern navbar with glassmorphism effect */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(238, 238, 238, 0.95);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(57, 62, 70, 0.1);
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            background: rgba(238, 238, 238, 0.98);
            box-shadow: 0 4px 20px rgba(34, 40, 49, 0.08);
        }

        .navbar-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: #222831;
            font-size: 1.5rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            transition: all 0.3s ease;
        }

        .navbar-brand:hover {
            color: #00ADB5;
        }

        .navbar-logo {
            width: 40px;
            height: 40px;
            background: #00ADB5;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.25);
        }

        .navbar-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .navbar-btn {
            padding: 0.625rem 1.5rem;
            font-size: 0.9375rem;
            font-weight: 600;
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-block;
            border: none;
            cursor: pointer;
        }

        .navbar-btn-login {
            color: #222831;
            background: transparent;
        }

        .navbar-btn-login:hover {
            background: rgba(57, 62, 70, 0.08);
        }

        .navbar-btn-signup {
            background: #00ADB5;
            color: white;
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.25);
        }

        .navbar-btn-signup:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 173, 181, 0.35);
            background: #009aa1;
        }

        .navbar-user {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .navbar-user-info {
            text-align: right;
        }

        .navbar-user-name {
            font-weight: 600;
            color: #222831;
            font-size: 0.9375rem;
        }

        .navbar-user-role {
            font-size: 0.8125rem;
            color: #393E46;
        }

        .navbar-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #00ADB5;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.25);
        }

        /* === MODIFIED HERO SECTION === */
        .hero-section {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #222831; /* Fallback background */
            color: white;
            overflow: hidden;
            padding-top: 80px;
        }
        
        /* Container for all background slides */
        .hero-background-slider {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }

        /* Individual slide styling */
        .hero-bg-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0; /* Hidden by default */
            transition: opacity 1.5s ease-in-out; /* Beautiful 1.5s fade effect */
        }
        
        /* Dark overlay for readability (applies to all slides by default) */
        .hero-bg-slide::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4); /* 40% black overlay */
            z-index: 1;
            /* Add transition for the overlay itself (optional) */
            transition: background-color 1.5s ease-in-out;
        }

        /* * === THIS IS THE CHANGE YOU REQUESTED ===
         * Override the overlay for the cyan slide, making it transparent
         */
        .hero-bg-slide.hero-bg-0::before {
            background-color: transparent; /* No overlay for the cyan gradient */
        }

        /* Active slide is visible */
        .hero-bg-slide.active {
            opacity: 1;
        }

        /* Specific styles for each slide */
        .hero-bg-0 {
            background-image: linear-gradient(135deg, #00ADB5 0%, #393E46 100%);
        }
        .hero-bg-1 {
            background-image: url("{% static 'images/1.jpg' %}");
        }
        .hero-bg-2 {
            background-image: url("{% static 'images/2.jpg' %}");
        }
        .hero-bg-3 {
            background-image: url("{% static 'images/3.jpg' %}");
        }
        .hero-bg-4 {
            background-image: url("{% static 'images/4.jpg' %}");
        }
        .hero-bg-5 {
            background-image: url("{% static 'images/5.jpg' %}");
        }

        /* Subtle pattern overlay (optional, but looks good) */
        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 50%, rgba(238, 238, 238, 0.05) 0%, transparent 40%);
            z-index: 2; /* On top of slides, below content */
        }

        /* Hero content must be on top of everything */
        .hero-content {
            position: relative;
            z-index: 3; /* On top of slides and pattern */
            text-align: center;
            max-width: 900px;
            padding: 2rem;
            animation: fadeInUp 0.8s ease-out;
        }
        /* === END OF MODIFIED HERO SECTION === */

        .hero-content h1 {
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            color: white;
            line-height: 1.1;
            letter-spacing: -0.02em;
            /* Added text-shadow for extra readability */
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
        }

        .hero-content p {
            font-size: clamp(1.125rem, 2vw, 1.5rem);
            margin-bottom: 2.5rem;
            color: rgba(238, 238, 238, 0.95);
            line-height: 1.6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            /* Added text-shadow for extra readability */
            text-shadow: 0 1px 4px rgba(0, 0, 0, 0.5);
        }

        .hero-buttons {
            display: flex;
            gap: 1.25rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-hero {
            padding: 1.125rem 2.5rem;
            font-size: 1.125rem;
            font-weight: 600;
            border-radius: 12px;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 14px rgba(0, 0, 0, 0.2);
        }

        .btn-hero-primary {
            background-color: white;
            color: #00ADB5;
        }

        .btn-hero-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            background-color: #EEEEEE;
        }

        .btn-hero-secondary {
            background-color: rgba(238, 238, 238, 0.15);
            color: white;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(238, 238, 238, 0.3);
        }

        .btn-hero-secondary:hover {
            background-color: rgba(238, 238, 238, 0.25);
            transform: translateY(-2px);
        }

        /* Stats section with modern card design */
        .stats-section {
            background: #EEEEEE;
            padding: 5rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .stat-card {
            background: white;
            padding: 2.5rem 2rem;
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(34, 40, 49, 0.08);
            border: 1px solid rgba(57, 62, 70, 0.1);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .stat-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .stat-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 24px rgba(34, 40, 49, 0.12);
        }

        .stat-number {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 800;
            color: #00ADB5;
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .stat-label {
            font-size: 1rem;
            color: #393E46;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* How it works with modern step indicators */
        .how-section {
            padding: 6rem 0;
            background-color: white;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: 1rem;
            color: #222831;
            letter-spacing: -0.02em;
        }

        .section-subtitle {
            font-size: 1.25rem;
            color: #393E46;
            max-width: 600px;
            margin: 0 auto;
        }

        .steps-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .step-card {
            background: #EEEEEE;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 2px 8px rgba(34, 40, 49, 0.06);
            border: 1px solid rgba(57, 62, 70, 0.08);
            position: relative;
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .step-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .step-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 12px 32px rgba(34, 40, 49, 0.12);
        }

        .step-number {
            position: absolute;
            top: -20px;
            left: 2.5rem;
            width: 48px;
            height: 48px;
            background: #00ADB5;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 800;
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.3);
        }

        .step-icon {
            width: 80px;
            height: 80px;
            margin: 1.5rem auto 1.5rem;
            background: white;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 2px 8px rgba(34, 40, 49, 0.06);
        }

        .step-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #222831;
            font-weight: 700;
        }

        .step-card p {
            color: #393E46;
            line-height: 1.7;
            font-size: 1rem;
        }

        /* Map section with better styling */
        .map-section {
            padding: 6rem 0;
            background: #EEEEEE;
        }

        .map-container {
            max-width: 1200px;
            margin: 2rem auto 0;
            padding: 0 2rem;
        }

        #home-map {
            height: 600px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(34, 40, 49, 0.12);
            border: 1px solid rgba(57, 62, 70, 0.1);
        }

        /* Mission section with two-column layout */
        .mission-section {
            padding: 6rem 0;
            background: white;
        }

        .mission-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            align-items: center;
        }

        .mission-content h2 {
            font-size: clamp(2rem, 4vw, 2.75rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            color: #222831;
            letter-spacing: -0.02em;
        }

        .mission-content p {
            font-size: 1.125rem;
            line-height: 1.8;
            color: #393E46;
            margin-bottom: 1.5rem;
        }

        .impact-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
        }

        .impact-item {
            background: #EEEEEE;
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 2px 8px rgba(34, 40, 49, 0.06);
            border: 1px solid rgba(57, 62, 70, 0.08);
            transition: all 0.3s ease;
        }

        .impact-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(34, 40, 49, 0.12);
        }

        .impact-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
        }

        .impact-item h4 {
            font-size: 1.125rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: #222831;
        }

        .impact-item p {
            font-size: 0.9375rem;
            color: #393E46;
            margin: 0;
            line-height: 1.6;
        }

        /* CTA section */
        .cta-section {
            padding: 6rem 0;
            background: #393E46;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2300ADB5' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .cta-content {
            position: relative;
            z-index: 1;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .cta-content h2 {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            margin-bottom: 1rem;
            color: white;
            letter-spacing: -0.02em;
        }

        .cta-content p {
            font-size: 1.25rem;
            color: #EEEEEE;
            margin-bottom: 3rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .cta-card {
            background: white;
            padding: 3rem 2rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            text-align: center;
        }

        .cta-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 16px 48px rgba(0, 0, 0, 0.2);
        }

        .cta-card-icon {
            font-size: 3rem;
            margin-bottom: 1.5rem;
            display: block;
        }

        .cta-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #222831;
        }

        .cta-card p {
            color: #393E46;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .cta-card .btn {
            width: 100%;
            padding: 1rem;
            font-weight: 600;
            border-radius: 12px;
            background: #00ADB5;
            color: white;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .cta-card .btn:hover {
            background: #009aa1;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.3);
        }

        /* Modern footer design */
        .footer {
            background: #222831;
            color: #EEEEEE;
            padding: 5rem 0 2rem;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            max-width: 1200px;
            margin: 0 auto 3rem;
            padding: 0 2rem;
        }

        .footer-column h4 {
            color: white;
            margin-bottom: 1.5rem;
            font-size: 1.125rem;
            font-weight: 700;
        }

        .footer-column p {
            color: #EEEEEE;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            opacity: 0.8;
        }

        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-links li {
            margin-bottom: 0.875rem;
        }

        .footer-links a {
            color: #EEEEEE;
            text-decoration: none;
            transition: all 0.2s ease;
            display: inline-block;
            opacity: 0.8;
        }

        .footer-links a:hover {
            color: #00ADB5;
            transform: translateX(4px);
            opacity: 1;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .social-link {
            width: 44px;
            height: 44px;
            background: #393E46;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            font-size: 1.25rem;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: #00ADB5;
            transform: translateY(-4px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(238, 238, 238, 0.1);
            color: #EEEEEE;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
            opacity: 0.7;
        }

        /* Welcome section for logged-in users */
        .welcome-card {
            max-width: 900px;
            margin: 8rem auto 4rem;
            padding: 4rem 3rem;
            background: white;
            border-radius: 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(34, 40, 49, 0.12);
            border: 1px solid rgba(57, 62, 70, 0.1);
            position: relative;
            overflow: hidden;
        }

        .welcome-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: #00ADB5;
        }

        .welcome-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 2rem;
            background: #00ADB5;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 8px 24px rgba(0, 173, 181, 0.25);
        }

        .welcome-card h1 {
            font-size: 2.75rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: #222831;
            letter-spacing: -0.02em;
        }

        .welcome-card .user-type-badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background: rgba(0, 173, 181, 0.1);
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            color: #00ADB5;
            margin-bottom: 2.5rem;
            border: 2px solid rgba(0, 173, 181, 0.2);
        }

        .welcome-card .btn {
            margin: 0.5rem;
            padding: 1rem 2.5rem;
            font-size: 1.125rem;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            background: #00ADB5;
            color: white;
        }

        .welcome-card .btn:hover {
            transform: translateY(-2px);
            background: #009aa1;
            box-shadow: 0 4px 12px rgba(0, 173, 181, 0.3);
        }

        .welcome-card .btn-secondary {
            background: #393E46;
        }

        .welcome-card .btn-secondary:hover {
            background: #2d3139;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Mobile menu toggle */
        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            color: #222831;
        }

        .mobile-menu {
            display: none;
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: rgba(238, 238, 238, 0.98);
            backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(57, 62, 70, 0.1);
            padding: 1rem;
            flex-direction: column;
            gap: 0.5rem;
            box-shadow: 0 4px 20px rgba(34, 40, 49, 0.1);
            z-index: 999;
        }

        .mobile-menu.active {
            display: flex;
        }

        .mobile-menu .navbar-btn {
            width: 100%;
            text-align: center;
        }

        /* Responsive design improvements */
        
        /* iPad/Tablet Portrait & Landscape (768px - 1024px) */
        @media (min-width: 768px) and (max-width: 1024px) {
            .navbar-container {
                padding: 1rem 1.5rem;
            }

            .navbar-brand {
                font-size: 1.25rem;
            }

            .navbar-logo {
                width: 38px;
                height: 38px;
                font-size: 1.125rem;
            }

            .navbar-btn {
                padding: 0.625rem 1.25rem;
                font-size: 0.875rem;
            }

            .hero-section {
                min-height: 85vh;
                padding-top: 75px;
            }

            .hero-content {
                max-width: 800px;
                padding: 2rem 1.5rem;
            }

            .hero-content h1 {
                font-size: clamp(2.25rem, 5vw, 3.5rem);
            }

            .hero-content p {
                font-size: clamp(1.0625rem, 2vw, 1.375rem);
                margin-bottom: 2rem;
            }

            .hero-buttons {
                gap: 1rem;
            }

            .btn-hero {
                padding: 1rem 2rem;
                font-size: 1.0625rem;
            }

            .stats-section {
                padding: 4rem 0;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
                padding: 0 1.5rem;
            }

            .stat-card {
                padding: 2rem 1.75rem;
            }

            .stat-number {
                font-size: clamp(2.75rem, 4.5vw, 3.25rem);
            }

            .stat-label {
                font-size: 0.9375rem;
            }

            .how-section,
            .map-section,
            .mission-section,
            .cta-section {
                padding: 5rem 0;
            }

            .content-wrapper {
                padding: 0 1.5rem;
            }

            .section-title {
                font-size: clamp(1.875rem, 3.5vw, 2.5rem);
            }

            .section-subtitle {
                font-size: 1.125rem;
            }

            .steps-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
                padding: 0 1.5rem;
            }

            .step-card {
                padding: 2.25rem 2rem;
            }

            .step-icon {
                width: 70px;
                height: 70px;
                font-size: 2.25rem;
            }

            .step-card h3 {
                font-size: 1.375rem;
            }

            .step-card p {
                font-size: 0.9375rem;
            }

            #home-map {
                height: 450px;
            }

            .mission-grid {
                grid-template-columns: 1fr;
                gap: 3rem;
            }

            .mission-content h2 {
                font-size: clamp(1.875rem, 3.5vw, 2.5rem);
            }

            .mission-content p {
                font-size: 1.0625rem;
            }

            .impact-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.25rem;
            }

            .impact-item {
                padding: 1.75rem;
            }

            .impact-icon {
                font-size: 2.25rem;
            }

            .impact-item h4 {
                font-size: 1.0625rem;
            }

            .impact-item p {
                font-size: 0.875rem;
            }

            .cta-content h2 {
                font-size: clamp(1.875rem, 3.5vw, 2.75rem);
            }

            .cta-content p {
                font-size: 1.125rem;
                margin-bottom: 2.5rem;
            }

            .cta-cards {
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
            }

            .cta-card {
                padding: 2.5rem 1.75rem;
            }

            .cta-card-icon {
                font-size: 2.75rem;
            }

            .cta-card h3 {
                font-size: 1.375rem;
            }

            .cta-card p {
                font-size: 0.9375rem;
            }

            .footer {
                padding: 4rem 0 2rem;
            }

            .footer-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 2.5rem;
                padding: 0 1.5rem;
            }

            .footer-column h4 {
                font-size: 1.0625rem;
            }

            .footer-column p {
                font-size: 0.9375rem;
            }

            .social-link {
                width: 42px;
                height: 42px;
                font-size: 1.125rem;
            }

            .footer-bottom {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }

            .welcome-card {
                margin-top: 6rem;
                padding: 3rem 2.5rem;
            }

            .welcome-card h1 {
                font-size: 2.25rem;
            }

            .welcome-icon {
                width: 70px;
                height: 70px;
                font-size: 2.25rem;
            }

            .welcome-card .user-type-badge {
                font-size: 0.9375rem;
                padding: 0.5rem 1.25rem;
            }

            .welcome-card .btn {
                padding: 0.875rem 2rem;
                font-size: 1.0625rem;
            }
        }

        /* Desktop/Large Screen (up to 1024px) */
        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .steps-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            }

            .cta-cards {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block;
            }

            .navbar-actions {
                display: none;
            }

            .mission-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .impact-grid {
                grid-template-columns: 1fr;
            }

            .hero-section {
                min-height: 80vh;
                padding-top: 70px;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .btn-hero {
                width: 100%;
                padding: 1rem 2rem;
            }

            #home-map {
                height: 350px;
            }

            .navbar-container {
                padding: 0.875rem 1rem;
            }

            .navbar-brand {
                font-size: 1.125rem;
            }

            .navbar-logo {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }

            .navbar-btn {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }

            .navbar-user-info {
                display: none;
            }

            .welcome-card {
                margin-top: 5rem;
                padding: 2rem 1.5rem;
            }

            .welcome-card h1 {
                font-size: 1.75rem;
            }

            .welcome-icon {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stat-card {
                padding: 1.5rem;
            }

            .how-section,
            .map-section,
            .mission-section,
            .cta-section {
                padding: 3rem 0;
            }

            .content-wrapper {
                padding: 0 1rem;
            }

            .section-title {
                font-size: 1.75rem;
            }

            .section-subtitle {
                font-size: 1rem;
            }

            .step-card {
                padding: 2rem 1.5rem;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
                padding: 0 1rem;
            }

            .footer {
                padding: 3rem 0 1.5rem;
            }

            .footer-bottom {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }

        @media (max-width: 480px) {
            .hero-content h1 {
                font-size: 2rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .stat-number {
                font-size: 2.5rem;
            }

            .cta-card {
                padding: 2rem 1.5rem;
            }

            #home-map {
                height: 300px;
            }
        }
    </style>
{% endblock %}

{% block content %}

    <nav class="navbar">
        <div class="navbar-container">
            <a href="{% url 'index' %}" class="navbar-brand">
                <div class="navbar-logo">C2G</div>
                <span>Connect2Give</span>
            </a>
            
            {% if user.is_authenticated %}
                <div class="navbar-actions">
                    <div class="navbar-user">
                        <div class="navbar-user-info">
                            <div class="navbar-user-name">{{ user.username }}</div>
                            <div class="navbar-user-role">{{ user.get_user_type_display }}</div>
                        </div>
                        <div class="navbar-avatar">{{ user.username|first|upper }}</div>
                    </div>
                    <a href="{% get_dashboard_url user %}" class="navbar-btn navbar-btn-login">Dashboard</a>
                    <a href="{% url 'logout' %}" class="navbar-btn navbar-btn-signup">Logout</a>
                </div>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">☰</button>
                <div class="mobile-menu" id="mobile-menu">
                    <a href="{% get_dashboard_url user %}" class="navbar-btn navbar-btn-login">Dashboard</a>
                    <a href="{% url 'logout' %}" class="navbar-btn navbar-btn-signup">Logout</a>
                </div>
            {% else %}
                <div class="navbar-actions">
                    <a href="{% url 'login_page' %}" class="navbar-btn navbar-btn-login">Login</a>
                    <a href="{% url 'register_step_1' %}" class="navbar-btn navbar-btn-signup">Sign Up</a>
                </div>
                <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" aria-label="Toggle menu">☰</button>
                <div class="mobile-menu" id="mobile-menu">
                    <a href="{% url 'login_page' %}" class="navbar-btn navbar-btn-login">Login</a>
                    <a href="{% url 'register_step_1' %}" class="navbar-btn navbar-btn-signup">Sign Up</a>
                </div>
            {% endif %}
        </div>
    </nav>

    {% if user.is_authenticated %}
        <div class="welcome-card">
            <div class="welcome-icon">👋</div>
            <h1>Welcome back, {{ user.username }}!</h1>
            <div class="user-type-badge">{{ user.get_user_type_display }}</div>
            <div>
                <a href="{% get_dashboard_url user %}" class="btn">Go to Dashboard</a>
                <a href="{% url 'logout' %}" class="btn btn-secondary">Logout</a>
            </div>
        </div>

    {% else %}
        <div class="full-width">
             {% comment %} Hero section with dynamic background  {% endcomment %}
            <section class="hero-section">
                <div class="hero-background-slider">
                    <div class="hero-bg-slide hero-bg-0 active"></div> <div class="hero-bg-slide hero-bg-1"></div> <div class="hero-bg-slide hero-bg-2"></div> <div class="hero-bg-slide hero-bg-3"></div> <div class="hero-bg-slide hero-bg-4"></div> <div class="hero-bg-slide hero-bg-5"></div> </div>

                <div class="hero-content">
                    <h1>Turn Surplus into Support</h1>
                    <p>Connect2Give bridges restaurants with excess food to NGOs and volunteers. Together, we fight hunger and reduce waste in our community.</p>
                    <div class="hero-buttons">
                        <a href="{% url 'register_step_1' %}" class="btn-hero btn-hero-primary">Get Started</a>
                        <a href="#how-it-works" class="btn-hero btn-hero-secondary">Learn More</a>
                    </div>
                </div>
            </section>

             {% comment %} Stats section with animated counters  {% endcomment %}
            <section class="stats-section">
                <div class="stats-grid">
                    <div class="stat-card" data-target="50000">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Meals Donated</div>
                    </div>
                    <div class="stat-card" data-target="1200">
                        <div class="stat-number">0</div>
                        <div class="stat-label">People Fed Daily</div>
                    </div>
                    <div class="stat-card" data-target="300">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Active Volunteers</div>
                    </div>
                    <div class="stat-card" data-target="50">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Partner Restaurants</div>
                    </div>
                </div>
            </section>

             {% comment %} How it works with step numbers and icons  {% endcomment %}
            <section class="how-section" id="how-it-works">
                <div class="content-wrapper">
                    <div class="section-header">
                        <h2 class="section-title">How It Works</h2>
                        <p class="section-subtitle">Three simple steps to make a meaningful impact in your community</p>
                    </div>
                    <div class="steps-grid">
                        <div class="step-card">
                            <div class="step-number">1</div>
                            <div class="step-icon">🍽️</div>
                            <h3>Restaurant Lists Food</h3>
                            <p>Restaurants with surplus food quickly list donations through our platform, specifying quantity and pickup details.</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">2</div>
                            <div class="step-icon">🚗</div>
                            <h3>Volunteer Collects</h3>
                            <p>Nearby volunteers receive instant notifications, accept the pickup, and collect the food promptly from the restaurant.</p>
                        </div>
                        <div class="step-card">
                            <div class="step-number">3</div>
                            <div class="step-icon">❤️</div>
                            <h3>Delivered to NGO</h3>
                            <p>Volunteers deliver food to registered NGO camps where it's distributed to people in need within hours.</p>
                        </div>
                    </div>
                </div>
            </section>

             {% comment %} Map section with better container  {% endcomment %}
            <section class="map-section">
                <div class="content-wrapper">
                    <div class="section-header">
                        <h2 class="section-title">Our Reach Across the City</h2>
                        <p class="section-subtitle">See our network of partner restaurants and active NGO camps</p>
                    </div>
                </div>
                <div class="map-container">
                    <div id="home-map"></div>
                </div>
            </section>

             {% comment %} Mission section with impact cards  {% endcomment %}
            <section class="mission-section">
                <div class="mission-grid">
                    <div class="mission-content">
                        <h2>Fighting Hunger, Reducing Waste</h2>
                        <p>Every day, tons of perfectly good food goes to waste while millions go hungry. Connect2Give bridges this gap by creating seamless connections between those who have surplus and those who need it most.</p>
                        <p>Our platform empowers restaurants to make a difference, enables NGOs to serve more people, and gives volunteers a meaningful way to contribute to their community.</p>
                    </div>
                    <div class="impact-grid">
                        <div class="impact-item">
                            <span class="impact-icon">🍕</span>
                            <h4>Partner Restaurants</h4>
                            <p>Leading restaurants committed to zero waste and community support</p>
                        </div>
                        <div class="impact-item">
                            <span class="impact-icon">🤝</span>
                            <h4>NGO Partners</h4>
                            <p>Trusted organizations serving communities across the city</p>
                        </div>
                        <div class="impact-item">
                            <span class="impact-icon">👥</span>
                            <h4>Volunteers</h4>
                            <p>Dedicated individuals making direct impact every day</p>
                        </div>
                        <div class="impact-item">
                            <span class="impact-icon">🌍</span>
                            <h4>Community</h4>
                            <p>Together building a sustainable, caring future</p>
                        </div>
                    </div>
                </div>
            </section>

             {% comment %} CTA section with gradient and pattern  {% endcomment %}
            <section class="cta-section">
                <div class="cta-content">
                    <h2>Ready to Join the Movement?</h2>
                    <p>Choose your role and start making a difference today</p>
                    <div class="cta-cards">
                        <div class="cta-card">
                            <span class="cta-card-icon">🏪</span>
                            <h3>I'm a Restaurant</h3>
                            <p>Turn your surplus food into meals for those in need. Join our network of partner restaurants.</p>
                            <a href="{% url 'register_step_1' %}" class="btn">Register Now</a>
                        </div>
                        <div class="cta-card">
                            <span class="cta-card-icon">🏢</span>
                            <h3>I'm an NGO</h3>
                            <p>Connect with food donors and volunteers to serve more people in your community.</p>
                            <a href="{% url 'register_step_1' %}" class="btn">Join Us</a>
                        </div>
                        <div class="cta-card">
                            <span class="cta-card-icon">🙋</span>
                            <h3>I Want to Volunteer</h3>
                            <p>Make a direct impact by helping deliver food from restaurants to those who need it.</p>
                            <a href="{% url 'register_step_1' %}" class="btn">Start Volunteering</a>
                        </div>
                    </div>
                </div>
            </section>

             {% comment %} Modern footer with better structure  {% endcomment %}
            <footer class="footer">
                <div class="footer-grid">
                    <div class="footer-column">
                        <h4>Connect2Give</h4>
                        <p>Bridging the gap between surplus food and hungry communities. Together, we can make a difference.</p>
                        <div class="social-links">
                            <a href="#" class="social-link" aria-label="Facebook">📘</a>
                            <a href="#" class="social-link" aria-label="Twitter">🐦</a>
                            <a href="#" class="social-link" aria-label="Instagram">📷</a>
                            <a href="#" class="social-link" aria-label="LinkedIn">💼</a>
                        </div>
                    </div>
                    <div class="footer-column">
                        <h4>Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="{% url 'index' %}">Home</a></li>
                            <li><a href="#how-it-works">How It Works</a></li>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Get Started</h4>
                        <ul class="footer-links">
                            <li><a href="{% url 'login_page' %}">Login</a></li>
                            <li><a href="{% url 'register_step_1' %}">Register</a></li>
                            <li><a href="#">Partner With Us</a></li>
                            <li><a href="#">Volunteer</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h4>Legal</h4>
                        <ul class="footer-links">
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms of Service</a></li>
                            <li><a href="#">Cookie Policy</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-bottom">
                    <p>&copy; 2025 Connect2Give. All rights reserved.</p>
                </div>
            </footer>
        </div>
    {% endif %}

{% endblock %}

{% block scripts %}
    {{ block.super }}
    <script>
        // Mobile menu toggle function
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('active');
        }

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const menu = document.getElementById('mobile-menu');
            const toggle = document.querySelector('.mobile-menu-toggle');
            if (menu && toggle && !menu.contains(event.target) && !toggle.contains(event.target)) {
                menu.classList.remove('active');
            }
        });
    </script>

    {% if not user.is_authenticated %}
        <script>
            // --- UPDATED HERO BACKGROUND SLIDER LOGIC ---
            document.addEventListener('DOMContentLoaded', function () {
                // Get all the slide elements
                const slides = document.querySelectorAll('.hero-bg-slide');
                
                // Define the duration for each slide in milliseconds
                // 3s for cyan, 5s for each image
                const slideDurations = [
                    3000, // hero-bg-0 (cyan)
                    5000, // hero-bg-1 (1.jpg)
                    5000, // hero-bg-2 (2.jpg)
                    5000, // hero-bg-3 (3.jpg)
                    5000, // hero-bg-4 (4.jpg)
                    5000  // hero-bg-5 (5.jpg)
                ];
                
                let currentSlideIndex = 0;

                function changeSlide() {
                    if (slides.length === 0) return;

                    // Remove 'active' class from the current slide
                    slides[currentSlideIndex].classList.remove('active');

                    // Calculate the next slide index
                    currentSlideIndex = (currentSlideIndex + 1) % slides.length;

                    // Add 'active' class to the new slide
                    slides[currentSlideIndex].classList.add('active');
                    
                    // Get the duration for the *current* slide (which is now active)
                    const duration = slideDurations[currentSlideIndex];
                    
                    // Set timeout for the next slide change
                    setTimeout(changeSlide, duration);
                }

                if (slides.length > 0) {
                    // Start the cycle. The first timeout will be after the first slide's duration (3000ms).
                    setTimeout(changeSlide, slideDurations[0]);
                }
                
                
                // --- (existing map and intersection observer logic below) ---

                const navbar = document.querySelector('.navbar');
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 50) {
                        navbar.classList.add('scrolled');
                    } else {
                        navbar.classList.remove('scrolled');
                    }
                });

                const map = L.map('home-map', {
                    zoomControl: false,
                    attributionControl: false,
                    scrollWheelZoom: false
                }).setView([28.6448, 77.2167], 11);
                
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

                const camps = JSON.parse('{{ camps_map_data|safe }}');
                const restaurants = JSON.parse('{{ restaurants_map_data|safe }}');

                const campIcon = L.divIcon({
                    className: 'custom-marker',
                    html: '<div style="background: #00ADB5; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; box-shadow: 0 4px 12px rgba(0, 173, 181, 0.4); border: 3px solid white;">C</div>',
                    iconSize: [32, 32],
                    iconAnchor: [16, 16]
                });
                
                const restaurantIcon = L.divIcon({
                    className: 'custom-marker',
                    html: '<div style="background: #393E46; width: 32px; height: 32px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; box-shadow: 0 4px 12px rgba(57, 62, 70, 0.4); border: 3px solid white;">R</div>',
                    iconSize: [32, 32],
                    iconAnchor: [16, 16]
                });

                restaurants.forEach(r => {
                    L.marker([r.lat, r.lon], { icon: restaurantIcon }).addTo(map)
                     .bindPopup(`<div style="padding: 0.5rem;"><strong>${r.name}</strong><br><span style="color: #393E46;">${r.address}</span></div>`);
                });

                camps.forEach(camp => {
                    L.marker([camp.lat, camp.lon], { icon: campIcon }).addTo(map)
                     .bindPopup(`<div style="padding: 0.5rem;"><strong>Camp: ${camp.name}</strong><br>NGO: ${camp.ngo}<br><span style="color: #393E46;">${camp.address}</span></div>`);
                });

                // Animated counter function with smooth rotation effect
                const animateCounter = (element, target) => {
                    let current = 0;
                    const duration = 2000;
                    const steps = 60;
                    const increment = target / steps;
                    const stepTime = duration / steps;

                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            element.textContent = target.toLocaleString() + '+';
                            clearInterval(timer);
                        } else {
                            element.textContent = Math.floor(current).toLocaleString();
                        }
                    }, stepTime);
                };

                const observerOptions = {
                    threshold: 0.15,
                    rootMargin: '0px 0px -50px 0px'
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach((entry, index) => {
                        if (entry.isIntersecting) {
                            setTimeout(() => {
                                entry.target.classList.add('visible');
                                
                                if (entry.target.classList.contains('stat-card')) {
                                    const numberElement = entry.target.querySelector('.stat-number');
                                    const target = parseInt(entry.target.dataset.target);
                                    animateCounter(numberElement, target);
                                }
                            }, index * 100);
                            
                            observer.unobserve(entry.target);
                        }
                    });
                }, observerOptions);

                document.querySelectorAll('.stat-card, .step-card').forEach(el => {
                    observer.observe(el);
                });

                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        }
                    });
                });
            });
        </script>
    {% endif %}
{% endblock %}