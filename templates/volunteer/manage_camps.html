{% extends 'volunteer/base.html' %}

{% block title %}Manage Camps - {{ block.super }}{% endblock %}

{% block page_title %}Manage NGO Registrations{% endblock %}
{% block page_description %}Join NGOs to see their available donation camps.{% endblock %}

{% block volunteer_content %}
    <div class="content-card">
        <h3>Available NGOs to Join</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>NGO Name</th>
                    <th>Address</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for ngo in available_ngos %}
                <tr>
                    <td><strong>{{ ngo.ngo_name }}</strong></td>
                    <td>{{ ngo.address }}</td>
                    <td>
                        <form action="{% url 'register_with_ngo' ngo.pk %}" method="POST" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="action-button">Join</button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="empty-state">There are no new NGOs to join at the moment.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div class="content-card">
        <h3>My Registered NGOs</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>NGO Name</th>
                    <th>Date Joined</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for ngo in registered_ngos %}
                <tr>
                    <td><strong>{{ ngo.ngo_name }}</strong></td>
                    <td>{{ ngo.date_joined|date:"d M Y" }}</td>
                    <td>
                        <form action="{% url 'unregister_from_ngo' ngo.pk %}" method="POST" style="display:inline;">
                            {% csrf_token %}
                            <button type="submit" class="action-button-danger">Leave</button>
                        </form>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="3" class="empty-state">You are not registered with any NGOs yet.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
