{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
        {# The head content will be provided by the child template #}
    {% endblock head %}
</head>
<body>
    {% block body %}
        <button class="mobile-sidebar-toggle" id="sidebar-toggle-btn" onclick="toggleSidebar()" aria-label="Toggle sidebar">
            â˜°
        </button>
        
        <div class="sidebar-overlay" onclick="closeSidebar()"></div>
        
        <aside class="sidebar" id="dashboard-sidebar">
            <div>
                <div class="sidebar-header">
                    <h1>{% block sidebar_title %}Dashboard{% endblock %}</h1>
                    <p>{% block sidebar_subtitle %}Main Menu{% endblock %}</p>
                </div>
                
                <nav class="sidebar-nav">
                    {% block nav_links %}
                        {% endblock nav_links %}
                </nav>
            </div>
            <div class="sidebar-footer">
                <a href="{% url 'logout' %}" class="sidebar-logout-btn">Logout</a>
            </div>
        </aside>

        <script>
            // Mobile sidebar toggle functionality
            function toggleSidebar() {
                const sidebar = document.getElementById('dashboard-sidebar');
                const overlay = document.querySelector('.sidebar-overlay');
                const toggleBtn = document.getElementById('sidebar-toggle-btn');
                sidebar.classList.toggle('open');
                overlay.classList.toggle('active');
                toggleBtn.style.display = 'none'; // Hide button when sidebar is open
            }

            function closeSidebar() {
                const sidebar = document.getElementById('dashboard-sidebar');
                const overlay = document.querySelector('.sidebar-overlay');
                const toggleBtn = document.getElementById('sidebar-toggle-btn');
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
                toggleBtn.style.display = 'block'; // Show button when sidebar is closed
            }

            // Close sidebar when clicking on a nav link on mobile
            document.addEventListener('DOMContentLoaded', function() {
                const navLinks = document.querySelectorAll('.nav-link');
                navLinks.forEach(link => {
                    link.addEventListener('click', function() {
                        if (window.innerWidth <= 768) {
                            closeSidebar();
                        }
                    });
                });
            });
        </script>
    {% endblock body %}
</body>
</html>